<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

  <script>
    /*     // 私有属性 加入  # 字段
        class Person {
          name;
    
          #age;
    
          constructor(name, age) {
            this.name = name;
            this.#age = age;
          }
    
          intro() {
            return this.#age
          }
        }
    
        const girl = new Person('mm', 18)
    
        // 报错 在类的外部无法访问
        // console.log(girl.#age);
        console.log(girl.intro()); */



    /*     // Promise.allSettled
        const p1 = new Promise((res, rej) => {
          setTimeout(() => {
            res('商品数据')
          }, 1000);
        })
    
        const p2 = new Promise((res, rej) => {
          setTimeout(() => {
            rej('出错')
          }, 1000);
        })
    
        // 得到的结果始终是成功的 值是每个Promise对象的结果值
        const result = Promise.allSettled([p1, p2])
    
        // 如果全部成功才为成功 一个失败就为失败
        const result = Promise.all([p1, p2])
    
        console.log(result); */


    /*     // matchAll
        let str = `
            <ul>
            <li>
              <a>肖生克的救赎</a>
              <p>上映时间：1994-09-10</p>
            </li>
            <li>
              <a>阿甘正传</a>
              <p>上映时间：1994-07-06</p>
            </li>
          </ul>
        `;
    
        const reg = /<li>.*?<a>(?<name>.*?)<\/a>.*?<p>(?<text>.*?)<\/p>/sg
        const res = str.matchAll(reg)
        console.log(res);
    
        for (const v of res) {
          console.log(v);
        } */



    /*     // 可选链操作符 ?.
        function main(config) {
          const dbHost = config?.db?.host
          console.log(dbHost);
        }
    
        main({
          db: {
            host: '192.168.1.100',
            username: 'root'
          },
          cache: {
            host: '192.168.1.2',
            username: 'admin'
          }
        }) */

    /*     // BigInt 大整形
        let n = 521
        console.log(BigInt(n));
        let max = Number.MAX_SAFE_INTEGER
        console.log(max);
        console.log(BigInt(max) + BigInt(10)); */


    // globalThis 始终指向全局this
    console.log(globalThis);
    setTimeout(() => {
    console.log(globalThis);
    }, 1000);
  </script>
</body>

</html>