<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <canvas id="canvas" width="600" height="600" style="border: 1px solid #ccc"></canvas>
  </body>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
  <script>
    // var d = document.getElementById("myCanvas")
    // var cxt = d.getContext("2d")

    // draw(cxt, 50, 60, 20, 'blue');
    // draw(cxt, 300, 80, 60, 'red')

    // function draw(a, x, y, r, color) {
    //   a.save();

    //   a.beginPath()
    //   a.arc(x, y, r, 0, 2 * Math.PI, false);

    //   a.strokeStyle = color
    //   a.lineWidth = 2;

    //   a.stroke();
    //   a.restore();

    // }

    var canvas = document.getElementById('canvas')
    var ctx = canvas.getContext('2d')

    class draw {
      constructor(ctx, x, y, r) {
        this.x = x
        this.y = y
        this.r = r
        this.draw = function () {
          ctx.beginPath()
          ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI)
          ctx.closePath()
          ctx.stroke()
        }
      }
    }  
    var flag = false

    var ball = new draw(ctx, 100, 100, 20)
    var ball = new draw(ctx, 500, 100, 20)

    ball.draw()

    canvas.addEventListener('mousedown', function ({ offsetX, offsetY }) {
      ctx.clearRect(0, 0, 600, 600) //清除画布
      ball.x = offsetX
      ball.y = offsetY

      flag = true
      ball.draw()
    })

    canvas.addEventListener('mousemove', function ({ offsetX, offsetY }) {
      ctx.clearRect(0, 0, 600, 600) //清除画布
      if (flag) {
        ball.x = offsetX
        ball.y = offsetY
      }

      ball.draw()
    })

    canvas.addEventListener('mouseup', function ({ offsetX, offsetY }) {
      ctx.clearRect(0, 0, 600, 600) //清除画布
      flag = false
      ball.draw()
    })
  </script>
</html>
